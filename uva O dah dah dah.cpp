#include<cstdio>
#include<cstring>
#include<string>
#include<map>
#include<iostream>
using namespace std;
map<string,string>r;
char s[100000];
string z;
int main()
{
    freopen("in.txt","r",stdin);

    r[".-"] = 'A';
    r["-..."] = 'B';
    r["-.-."] = 'C';
    r["-.."] = 'D';
    r["."] = 'E';
    r["..-."] = 'F';
    r["--."] = 'G';
    r["...."] = 'H';
    r[".."] = 'I';
    r[".---"] = 'J';
    r["-.-"] = 'K';
    r[".-.."] = 'L';
    r["--"] = 'M';
    r["-."] = 'N';
    r["---"] = 'O';
    r[".--."] = 'P';
    r["--.-"] = 'Q';
    r[".-."] = 'R';
    r["..."] = 'S';
    r["-"] = 'T';
    r["..-"] = 'U';
    r["...-"] = 'V';
    r[".--"] = 'W';
    r["-..-"] = 'X';
    r["-.--"] = 'Y';
    r["--.."] = 'Z';
    r["-----"] = '0';
    r[".----"] = '1';
    r["..---"] = '2';
    r["...--"] = '3';
    r["....-"] = '4';
    r["....."] = '5';
    r["-...."] = '6';
    r["--..."] = '7';
    r["---.."] = '8';
    r["----."] = '9';
    r[".-.-.-"] = '.';
    r["--..--"] = ',';
    r["..--.."] = '?';
    r[".----."] = '\'';
    r["-.-.--"] = '!';
    r["-..-."] = '/';
    r["-.--."] = '(';
    r["-.--.-"] = ')';
    r[".-..."] = '&';
    r["---..."] = ':';
    r["-.-.-."] = ';';
    r["-...-"] = '=';
    r[".-.-."] = '+';
    r["-....-"] = '-';
    r["..--.-"] = '_';
    r[".-..-."] = '\"';
    r[".--.-."] = '@';
     int t,i=1,k,l;
    scanf("%d",&t);
    getchar();
    while(i<=t)
    {
        z="";
        gets(s);
        l=strlen(s);
        printf("Message #%d\n",i);
        for(k=0; k<=l; k++)
        {
            if(k==l)
                cout<<r[z];
            if(s[k]==' ')
            {
                if(s[k]==' ')
                {
                    cout<<r[z];
                    z="";
                }
                if(s[k+1]==' ')
                    printf(" ");
            }
            else
            {
                z+=s[k];
            }
        }
        printf("\n");
        if(i<t)
            printf("\n");
        i++;
    }
    return 0;
}
